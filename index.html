/* =====================================================
   PROJECTS PINNED BIG SLIDER – small→big→small cards
===================================================== */
const slides = gsap.utils.toArray(".project-slide");
if (slides.length) {
  const projTL = gsap.timeline({
    scrollTrigger: {
      trigger: ".projects-pin",
      start: "top top",
      end: "+=" + (slides.length * 180) + "%",
      scrub: true,
      pin: true
    }
  });

  slides.forEach((slide, i) => {
    const enterAt = i * 1.0;
    const leaveAt = enterAt + 0.75;

    projTL.to(slide, {
      autoAlpha: 1,
      scale: 1.08,
      zIndex: 10 + i,
      duration: 0.8,
      ease: "power2.out"
    }, enterAt);

    if (i < slides.length - 1) {
      projTL.to(slide, {
        autoAlpha: 0,
        scale: 0.9,
        duration: 0.8,
        ease: "power2.in"
      }, leaveAt);
    }
  });
}
